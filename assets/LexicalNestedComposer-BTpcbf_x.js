import{r as e,ah as t,ai as s,v as n,j as r}from"./main-D8JS9Q0E.js";var o,a=(o=function(e){const t=new URLSearchParams;t.append("code",e);for(let s=1;s<arguments.length;s++)t.append("v",arguments[s]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;function l(e){const t=e.transform();return null!==t?new Set([t]):new Set}function i({initialEditor:o,children:i,initialNodes:c,initialTheme:f,skipCollabChecks:d}){const p=e.useRef(!1),u=e.useContext(t);null==u&&a(9);const[h,{getTheme:m}]=u,v=e.useMemo((()=>{const e=f||m()||void 0,t=s(u,e);if(void 0!==e&&(o._config.theme=e),o._parentEditor=h,c)for(let s of c){let e=null,t=null;if("function"!=typeof s){const n=s;s=n.replace,e=n.with,t=n.withKlass||null}const n=o._nodes.get(s.getType());o._nodes.set(s.getType(),{exportDOM:n?n.exportDOM:void 0,klass:s,replace:e,replaceWithKlass:t,transforms:l(s)})}else{const e=o._nodes=new Map(h._nodes);for(const[t,s]of e)o._nodes.set(t,{exportDOM:s.exportDOM,klass:s.klass,replace:s.replace,replaceWithKlass:s.replaceWithKlass,transforms:l(s.klass)})}return o._config.namespace=h._config.namespace,o._editable=h._editable,[o,t]}),[]),{isCollabActive:_,yjsDocMap:g}=n(),w=d||p.current||g.has(o.getKey());return e.useEffect((()=>{w&&(p.current=!0)}),[w]),e.useEffect((()=>h.registerEditableListener((e=>{o.setEditable(e)}))),[o,h]),r.jsx(t.Provider,{value:v,children:!_||w?i:null})}export{i as d};
